<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>N7M-T8R | Numeronym Translator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --gunmetal-50: oklch(96.26% 0.002 197.12);
            --gunmetal-100: oklch(92.69% 0.006 183.02);
            --gunmetal-200: oklch(85.27% 0.011 189.78);
            --gunmetal-300: oklch(77.53% 0.014 191.30);
            --gunmetal-400: oklch(69.75% 0.021 188.60);
            --gunmetal-500: oklch(61.81% 0.027 190.03);
            --gunmetal-600: oklch(52.63% 0.022 188.31);
            --gunmetal-700: oklch(43.06% 0.016 190.87);
            --gunmetal-800: oklch(33.11% 0.014 189.13);
            --gunmetal-900: oklch(22.09% 0.008 182.20);
            --gunmetal-950: oklch(18.34% 0.005 196.75);
            --deep-teal-500: oklch(61.38% 0.036 154.88);
            --celadon-400: oklch(74.78% 0.110 155.35);
            --celadon-500: oklch(69% 0.133 153.77);
            --celadon-600: oklch(58.54% 0.112 153.69);
            --emerald-400: oklch(76.30% 0.154 147.50);
            --emerald-500: oklch(71.17% 0.184 146.13);
            --emerald-600: oklch(60.47% 0.154 146.24);
            --tropical-mint-400: oklch(83.42% 0.148 167.43);
            --tropical-mint-500: oklch(80.51% 0.166 164.38);
        }
        
        html, body {
            min-height: 100vh;
            min-height: -webkit-fill-available;
            background: linear-gradient(135deg, var(--gunmetal-900) 0%, var(--gunmetal-800) 50%, var(--gunmetal-950) 100%);
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            margin: 0;
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
        }

        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            min-height: -webkit-fill-available;
        }
        
        .title-gradient {
            background: linear-gradient(90deg, var(--celadon-400), var(--tropical-mint-400), var(--emerald-400));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .card-bg {
            background: color-mix(in oklch, var(--gunmetal-800), transparent 50%);
            border: 1px solid var(--gunmetal-700);
        }
        
        .input-bg {
            background: color-mix(in oklch, var(--gunmetal-950), transparent 20%);
            border: 1px solid var(--gunmetal-600);
            color: var(--gunmetal-100);
        }
        
        .input-bg:focus {
            border-color: var(--celadon-500);
            box-shadow: 0 0 0 2px color-mix(in oklch, var(--celadon-500), transparent 70%);
        }
        
        .output-text {
            color: var(--tropical-mint-400);
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--celadon-600), var(--emerald-600));
            color: white;
        }
        
        .btn-primary:hover {
            background: linear-gradient(90deg, var(--celadon-500), var(--emerald-500));
        }
        
        .btn-success {
            background: linear-gradient(90deg, var(--emerald-600), var(--deep-teal-500));
        }
        
        .icon-color {
            color: var(--celadon-400);
        }
        
        .label-text {
            color: var(--gunmetal-300);
        }
        
        .subtitle-text {
            color: var(--gunmetal-400);
        }
        
        .footer-text {
            color: var(--gunmetal-500);
        }
        
        .arrow-bg {
            background: color-mix(in oklch, var(--gunmetal-700), transparent 50%);
        }
        
        ::placeholder {
            color: var(--gunmetal-500);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-2xl min-h-screen p-4 mx-auto">
        <div class="text-center mb-8">
            <h1 class="text-5xl font-extrabold title-gradient mb-2">
                N7M-T8R
            </h1>
            <p class="subtitle-text text-lg">Numeronym Translator</p>
        </div>
        
        <div class="card-bg backdrop-blur-lg rounded-2xl p-8 shadow-2xl">
            <div class="space-y-4">
                <div>
                    <label for="input" class="block text-sm font-semibold label-text mb-2 uppercase tracking-wider">
                        Input
                    </label>
                    <textarea 
                        id="input" 
                        rows="4"
                        class="w-full px-4 py-3 input-bg rounded-xl focus:outline-none transition-all resize-none"
                        placeholder="Type something here..."
                    ></textarea>
                </div>
                
                <div class="flex justify-center">
                    <div class="arrow-bg rounded-full p-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 icon-color" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                        </svg>
                    </div>
                </div>
                
                <div class="-mt-2">
                    <label for="output" class="block text-sm font-semibold label-text mb-2 uppercase tracking-wider">
                        Output
                    </label>
                    <textarea 
                        id="output" 
                        rows="4"
                        readonly
                        class="w-full px-4 py-3 input-bg rounded-xl output-text focus:outline-none transition-all resize-none"
                        placeholder="Numeronym will appear here..."
                    ></textarea>
                </div>
                
                <button 
                    id="copyBtn"
                    class="w-full py-3 px-6 btn-primary font-semibold rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg"
                    style="--tw-shadow-color: color-mix(in oklch, var(--celadon-600), transparent 75%);"
                >
                    Copy to Clipboard
                </button>
            </div>
        </div>
        
        <p id="tagline" class="text-center footer-text mt-6 text-sm"></p>
    </div>
    
    <script>
        const inputEl = document.getElementById('input');
        const outputEl = document.getElementById('output');
        const copyBtn = document.getElementById('copyBtn');
        
        function toNumeronym(word) {
            const punctuationMatch = word.match(/[^a-zA-Z0-9]+$/);
            const punctuation = punctuationMatch ? punctuationMatch[0] : '';
            const baseWord = punctuation ? word.slice(0, -punctuation.length) : word;
            
            if (baseWord.length === 0) return word;
            if (baseWord.length === 1) return baseWord + '-1' + punctuation;
            if (baseWord.length === 2) return baseWord[0] + '0' + baseWord[1] + punctuation;
            return baseWord[0] + (baseWord.length - 2) + baseWord[baseWord.length - 1] + punctuation;
        }
        
        function generateNumeronym(text) {
            if (!text.trim()) return '';
            return text
                .split('\n')
                .map(line => {
                    return line
                        .split(/\s+/)
                        .filter(word => word.length > 0)
                        .map(word => toNumeronym(word))
                        .join(' ');
                })
                .join('\n');
        }
        
        inputEl.addEventListener('input', (e) => {
            const text = e.target.value;
            outputEl.value = generateNumeronym(text);
        });
        
        copyBtn.addEventListener('click', async () => {
            if (!outputEl.value) return;

            try {
                await navigator.clipboard.writeText(outputEl.value);
                const originalText = copyBtn.textContent;
                const originalClass = copyBtn.className;
                copyBtn.textContent = 'Copied!';
                copyBtn.className = 'w-full py-3 px-6 btn-success font-semibold rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg';

                setTimeout(() => {
                    copyBtn.textContent = originalText;
                    copyBtn.className = originalClass;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy:', err);
            }
        });

        // Tagline rotation with sweep animation
        const taglines = [
            'Transform words like "internationalization" into "i18n"',
            '"localization" becomes "l10n"',
            '"accessibility" becomes "a11y"',
            '"kubernetes" becomes "k8s"',
            'Because typing long words is so last century',
            'The future of typing less',
            'Shorten your words, expand your vocabulary',
            'When you need to save keystrokes',
            'Abbreviation innovation',
            'Less typing, more doing',
            'Making long words manageable',
            'For the lazy typist in all of us',
            'The art of lexical compression',
            'Because every character counts',
            'Simplify your vocabulary'
        ];

        const taglineEl = document.getElementById('tagline');
        // Start at a random tagline
        let currentTaglineIndex = Math.floor(Math.random() * taglines.length);
        let sweepInterval = null;

        function sweepTransform(text) {
            // Split into tokens, keeping track of quoted words
            const tokens = text.match(/"[^"]*"|\S+|\s+/g) || [];
            const wordInfo = tokens.map((token, i) => {
                // Check if it's a quoted word like "internationalization"
                const quotedMatch = token.match(/^"([a-zA-Z0-9]+)"$/);
                if (quotedMatch) {
                    return {
                        index: i,
                        isQuoted: true,
                        innerWord: quotedMatch[1],
                        prefix: '"',
                        suffix: '"'
                    };
                }
                // Regular word
                return {
                    index: i,
                    isQuoted: false,
                    innerWord: token,
                    prefix: '',
                    suffix: ''
                };
            });

            // Show original first
            taglineEl.textContent = text;

            // Identify which tokens are words that can be transformed (any alphanumeric word)
            const wordIndices = wordInfo.filter(w => /^[a-zA-Z0-9]/.test(w.innerWord)).map(w => w.index);

            if (wordIndices.length === 0) return;

            // Wait 2 seconds before starting sweep, then transform each word
            setTimeout(() => {
                let currentWordIdx = 0;
                sweepInterval = setInterval(() => {
                    if (currentWordIdx >= wordIndices.length) {
                        clearInterval(sweepInterval);
                        return;
                    }

                    const tokenIdx = wordIndices[currentWordIdx];
                    const info = wordInfo[tokenIdx];
                    const encoded = toNumeronym(info.innerWord);
                    tokens[tokenIdx] = info.prefix + encoded + info.suffix;
                    taglineEl.textContent = tokens.join('');

                    currentWordIdx++;
                }, 120);
            }, 2000);
        }

        function updateTagline() {
            if (sweepInterval) {
                clearInterval(sweepInterval);
            }

            const tagline = taglines[currentTaglineIndex];
            currentTaglineIndex = (currentTaglineIndex + 1) % taglines.length;

            sweepTransform(tagline);
        }

        // Initial tagline
        updateTagline();

        // Change tagline every 8 seconds (gives time for delay + sweep animation)
        setInterval(updateTagline, 8000);
    </script>
</body>
</html>
